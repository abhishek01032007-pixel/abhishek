<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Orbital Gallery</title>
<link rel="icon" href="images/web icon.webp" type="image/x-icon">

<style>
/* ========== BASE ========== */
html, body {
  margin: 0;
  height: 100%;
  overflow: hidden;
  font-family: sans-serif;
  background: black;
  cursor: grab;
  touch-action: pan-y;
  user-select: none;
}

/* ========== VIDEO BACKGROUND ========== */
video {
  position: fixed;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  transform: translate(-50%, -50%);
  object-fit: cover;
  z-index: -2;
}

/* ========== OPENING SCREEN ========== */
#openingScreen {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  text-align: center;
  z-index: 10;
  cursor: pointer;
}

#openingScreen h1 {
  font-size: 3em;
  text-shadow: 2px 2px 8px black;
}

#openingScreen p {
  font-size: 1.4em;
  text-shadow: 1px 1px 6px black;
}

/* ========== PAGE HEADING ========== */
.page-heading {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 2.5em;
  text-shadow: 2px 2px 8px black;
  z-index: 5;
  pointer-events: none;
}

/* ========== SCENE ========== */
.scene {
  width: min(90vw, 900px);
  height: min(55vw, 500px);
  max-height: 500px;
  perspective: 1200px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1;
}

/* ========== CAROUSEL ========== */
.carousel {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
}

.carousel img {
  position: absolute;
  width: min(70vw, 260px);
  height: auto;
  aspect-ratio: 3 / 2;
  object-fit: cover;
  border-radius: 14px;
  left: 50%;
  top: 50%;
  transition: transform 0.4s ease, opacity 0.4s ease;
  box-shadow: 0 25px 50px rgba(0,0,0,0.6);
  cursor: pointer;
}

/* ========== OVERLAY ========== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

.overlay img {
  max-width: 90%;
  max-height: 70%;
  border-radius: 16px;
  box-shadow: 0 40px 80px rgba(0,0,0,0.8);
}

/* ========== CRT EFFECT ========== */
.crt {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 20;
  animation: crtFlicker 0.15s infinite;
}

.crt::before {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    rgba(0,0,0,0.06) 2px,
    rgba(0,0,0,0.06) 3px
  );
  mix-blend-mode: overlay;
}

.crt::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    rgba(255,255,255,0.08) 0%,
    rgba(0,0,0,0.65) 70%,
    rgba(0,0,0,0.95) 100%
  );
}

@keyframes crtFlicker {
  0% { opacity: 0.96; }
  50% { opacity: 1; }
  100% { opacity: 0.97; }
}

/* ========== MOBILE TEXT SCALE ========== */
@media (max-width: 768px) {
  #openingScreen h1 { font-size: 2em; }
  #openingScreen p { font-size: 1.1em; }
  .page-heading { font-size: 1.6em; top: 10px; }
}
</style>
</head>

<body>

<!-- VIDEO -->
<video autoplay muted loop>
  <source src="videos/vidio_back.mp4" type="video/mp4">
</video>

<!-- AUDIO -->
<audio id="bgAudio" loop>
  <source src="audio/audio1.mp3" type="audio/mpeg">
</audio>

<!-- OPENING SCREEN -->
<div id="openingScreen">
  <h1>Exploring Our Solar System</h1>
  <p>Tap anywhere to start</p>
</div>

<!-- HEADING -->
<h1 class="page-heading">Galactic Viewer</h1>

<!-- SCENE -->
<div class="scene">
  <div class="carousel" id="carousel">
    <img src="images/thumbnails/thumb1.jpg" data-large="images/large/big1.png">
    <img src="images/thumbnails/thumb2.jpg" data-large="images/large/big2.png">
    <img src="images/thumbnails/thumb3.jpg" data-large="images/large/big3.png">
    <img src="images/thumbnails/thumb4.jpg" data-large="images/large/big4.png">
    <img src="images/thumbnails/thumb5.jpg" data-large="images/large/big5.png">
    <img src="images/thumbnails/thumb6.jpg" data-large="images/large/big6.png">
    <img src="images/thumbnails/thumb7.jpg" data-large="images/large/big7.png">
    <img src="images/thumbnails/thumb8.jpg" data-large="images/large/big8.png">
  </div>
</div>

<!-- IMAGE OVERLAY -->
<div class="overlay" id="overlay">
  <img id="overlayImg">
</div>

<!-- CRT -->
<div class="crt"></div>

<script>
/* ===== START EXPERIENCE (MOBILE SAFE AUDIO) ===== */
const openingScreen = document.getElementById('openingScreen');
const bgAudio = document.getElementById('bgAudio');

function startExperience() {
  openingScreen.style.display = 'none';
  bgAudio.play().catch(()=>{});
  document.body.removeEventListener('click', startExperience);
}
document.body.addEventListener('click', startExperience);

/* ===== CAROUSEL ===== */
const carousel = document.getElementById('carousel');
const images = carousel.querySelectorAll('img');
const overlay = document.getElementById('overlay');
const overlayImg = document.getElementById('overlayImg');

const count = images.length;
let angle = 0;
let isDragging = false;
let startX = 0;

function updateCarousel() {
  const step = 360 / count;
  const radius = 600;
  const spread = 420;

  images.forEach((img, i) => {
    const a = (step * i + angle) * Math.PI / 180;
    const x = Math.sin(a) * spread;
    const z = Math.cos(a) * radius;
    const scale = (z + radius) / (2 * radius) * 0.7 + 0.3;

    img.style.transform = `
      translate(-50%, -50%)
      translateX(${x}px)
      translateZ(${z}px)
      scale(${scale})
    `;

    img.style.opacity = scale;
    img.style.zIndex = Math.round(z);
  });
}
updateCarousel();

/* MOUSE */
carousel.addEventListener('mousedown', e => {
  isDragging = true;
  startX = e.clientX;
});
window.addEventListener('mouseup', () => isDragging = false);
window.addEventListener('mousemove', e => {
  if (!isDragging) return;
  angle += (e.clientX - startX) * 0.3;
  startX = e.clientX;
  updateCarousel();
});

/* TOUCH */
carousel.addEventListener('touchstart', e => {
  isDragging = true;
  startX = e.touches[0].clientX;
});
carousel.addEventListener('touchend', () => isDragging = false);
carousel.addEventListener('touchmove', e => {
  if (!isDragging) return;
  const x = e.touches[0].clientX;
  angle += (x - startX) * 0.3;
  startX = x;
  updateCarousel();
});

/* SCROLL */
window.addEventListener('wheel', e => {
  angle += e.deltaY > 0 ? -10 : 10;
  updateCarousel();
});

/* OVERLAY */
images.forEach(img => {
  img.addEventListener('click', () => {
    overlayImg.src = img.dataset.large;
    overlay.style.display = 'flex';
  });
});
overlay.addEventListener('click', () => overlay.style.display = 'none');

/* CRT JITTER */
setInterval(() => {
  document.body.style.transform =
    `translate(${(Math.random()-0.5)*0.3}px, ${(Math.random()-0.5)*0.3}px)`;
}, 60);
</script>

</body>
</html>
