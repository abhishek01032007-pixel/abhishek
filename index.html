<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<h1 class="page-heading">Galactic Viewer</h1>
<p class="page-description">
  Solar System consists of the Sun and the celestial bodies bound to it by gravity,
  including the eight planets, their moons, dwarf planets, comets, and asteroids.
  This interactive gallery lets you explore some of the fascinating planets orbiting our star.
</p>

<link rel="icon" href="images/web icon.webp" type="image/x-icon">

<style>
/* ========== BASE ========== */
html, body {
  margin: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  font-family: sans-serif;
  background: black;
  cursor: grab;
  touch-action: pan-y;
  user-select: none;
}

/* ===== DESKTOP SCALE WRAPPER ===== */
#desktopScale {
  width: 100vw;
  height: 100vh;
  transform-origin: top center;
  display: block;
}

/* ========== VIDEO BACKGROUND ========== */
video {
  position: fixed;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  transform: translate(-50%, -50%);
  object-fit: cover;
  z-index: -2;
}

/* ========== OPENING SCREEN ========== */
#openingScreen {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.9);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  text-align: center;
  z-index: 10;
  cursor: pointer;
}

#openingScreen h1 {
  font-size: 3em;
  text-shadow: 2px 2px 8px black;
}

#openingScreen p {
  font-size: 1.4em;
}

/* ========== PAGE HEADING ========== */
.page-heading {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 2.5em;
  text-shadow: 2px 2px 8px black;
  z-index: 5;
  pointer-events: none;
}
.page-description {
  position: fixed;
  top: 80px; /* adjust distance below the title */
  left: 50%;
  transform: translateX(-50%);
  color: white;
  font-size: 1.2em;
  text-align: center;
  max-width: 90%;
  z-index: 5;
  text-shadow: 1px 1px 6px black;
  pointer-events: none;
}

/* ========== SCENE ========== */
.scene {
  width: 900px;
  height: 500px;
  perspective: 1400px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  justify-content: center;
  align-items: center;
}

/* ========== CAROUSEL ========== */
.carousel {
  width: 100%;
  height: 100%;
  position: relative;
  transform-style: preserve-3d;
}

.card {
  position: absolute;
  left: 50%;
  top: 50%;
  transform-style: preserve-3d;
}

.card img {
  width: 260px;
  height: 170px;
  object-fit: cover;
  border-radius: 14px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.6);
  cursor: pointer;
}

/* ========== LABEL ON IMAGE ====== */
.label {
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  padding: 6px 14px;
  font-size: 16px;
  font-weight: 600;
  color: white;
  background: rgba(0,0,0,0.6);
  border-radius: 20px;
  text-shadow: 1px 1px 4px black;
  pointer-events: none;
  z-index: 10;
}

/* ========== OVERLAY ========== */
.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 20;
}

.overlay img {
  max-width: 70%;
  max-height: 60%;
  border-radius: 16px;
}

/* ========== CRT EFFECT ========== */
.crt {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 30;
  animation: crtFlicker 0.15s infinite;
}

.crt::before {
  content: "";
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,0.03),
    rgba(255,255,255,0.03) 1px,
    rgba(0,0,0,0.06) 2px,
    rgba(0,0,0,0.06) 3px
  );
  mix-blend-mode: overlay;
}

.crt::after {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    rgba(255,255,255,0.08) 0%,
    rgba(0,0,0,0.65) 70%,
    rgba(0,0,0,0.95) 100%
  );
}

@keyframes crtFlicker {
  0% { opacity: 0.96; }
  50% { opacity: 1; }
  100% { opacity: 0.97; }
}

/* ===== DESKTOP MODE MESSAGE ===== */
#desktopNotice {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  color: white;
  z-index: 9999;
  display: none;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.notice-box {
  max-width: 90%;
  padding: 30px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,0.2);
  box-shadow: 0 0 40px rgba(255,255,255,0.1);
}

.notice-box h2 {
  font-size: 2em;
  margin-bottom: 15px;
}

.notice-box p {
  font-size: 1.2em;
  line-height: 1.5;
}

.notice-box .hint {
  margin-top: 20px;
  font-size: 1em;
  opacity: 0.7;
}
</style>
</head>

<body>

<!-- DESKTOP MODE NOTICE -->
<div id="desktopNotice">
  <div class="notice-box">
    <h2>Desktop Mode Required</h2>
    <p>
      For the best experience,<br>
      please enable <b>Desktop site</b><br>
      in your browser settings.
    </p>
    <p class="hint">
      Chrome / Edge / Samsung:<br>
      ⋮ menu → <b>Desktop site</b>
    </p>
  </div>
</div>

<div id="desktopScale">

<!-- VIDEO -->
<video autoplay muted loop>
  <source src="videos/vidio_back.mp4" type="video/mp4">
</video>

<!-- AUDIO -->
<audio id="bgAudio" loop>
  <source src="audio/audio1.mp3" type="audio/mpeg">
</audio>

<!-- OPENING SCREEN -->
<div id="openingScreen">
  <h1>Exploring Our Solar System</h1>
  <p>Tap anywhere to start</p>
</div>

<!-- HEADING -->
<h1 class="page-heading">Galactic Viewer</h1>

<!-- SCENE -->
<div class="scene">
  <div class="carousel" id="carousel">
    <div class="card"><span class="label">1.Mercury</span><img src="images/thumbnails/thumb1.jpg" data-large="images/large/big1.png"></div>
    <div class="card"><span class="label">2.Venus</span><img src="images/thumbnails/thumb2.jpg" data-large="images/large/big2.png"></div>
    <div class="card"><span class="label">3.Venus</span><img src="images/thumbnails/thumb3.jpg" data-large="images/large/big3.png"></div>
    <div class="card"><span class="label">4.Mars</span><img src="images/thumbnails/thumb4.jpg" data-large="images/large/big4.png"></div>
    <div class="card"><span class="label">5.Jupiter</span><img src="images/thumbnails/thumb5.jpg" data-large="images/large/big5.png"></div>
    <div class="card"><span class="label">6.Saturn</span><img src="images/thumbnails/thumb6.jpg" data-large="images/large/big6.png"></div>
    <div class="card"><span class="label">7.Uranus</span><img src="images/thumbnails/thumb7.jpg" data-large="images/large/big7.png"></div>
    <div class="card"><span class="label">8.Neptune</span><img src="images/thumbnails/thumb8.jpg" data-large="images/large/big8.png"></div>
  </div>
</div>

<!-- OVERLAY -->
<div class="overlay" id="overlay">
  <img id="overlayImg">
</div>

<!-- CRT -->
<div class="crt"></div>

</div>

<script>
/* ===== START EXPERIENCE ===== */
const openingScreen = document.getElementById('openingScreen');
const bgAudio = document.getElementById('bgAudio');

document.body.addEventListener('click', () => {
  openingScreen.style.display = 'none';
  bgAudio.play().catch(()=>{});
}, { once: true });

/* ===== CAROUSEL ===== */
const carousel = document.getElementById('carousel');
const cards = carousel.querySelectorAll('.card');
const overlay = document.getElementById('overlay');
const overlayImg = document.getElementById('overlayImg');

let angle = 0;
let isDragging = false;
let startX = 0;

function updateCarousel() {
  const step = 360 / cards.length;
  const radius = 600;
  const spread = 420;

  cards.forEach((card, i) => {
    const a = (step * i + angle) * Math.PI / 180;
    const x = Math.sin(a) * spread;
    const z = Math.cos(a) * radius;
    const scale = (z + radius) / (2 * radius) * 0.7 + 0.3;

    card.style.transform = `
      translate(-50%, -50%)
      translateX(${x}px)
      translateZ(${z}px)
      scale(${scale})
    `;
    card.style.opacity = scale;
    card.style.zIndex = Math.round(z);
  });
}
updateCarousel();

/* MOUSE */
carousel.addEventListener('mousedown', e => {
  isDragging = true;
  startX = e.clientX;
});
window.addEventListener('mouseup', () => isDragging = false);
window.addEventListener('mousemove', e => {
  if (!isDragging) return;
  angle += (e.clientX - startX) * 0.3;
  startX = e.clientX;
  updateCarousel();
});

/* TOUCH */
carousel.addEventListener('touchstart', e => {
  isDragging = true;
  startX = e.touches[0].clientX;
});
carousel.addEventListener('touchend', () => isDragging = false);
carousel.addEventListener('touchmove', e => {
  if (!isDragging) return;
  const x = e.touches[0].clientX;
  angle += (x - startX) * 0.3;
  startX = x;
  updateCarousel();
});

/* SCROLL */
window.addEventListener('wheel', e => {
  angle += e.deltaY > 0 ? -10 : 10;
  updateCarousel();
});

/* OVERLAY */
cards.forEach(card => {
  const img = card.querySelector('img');
  img.addEventListener('click', () => {
    overlayImg.src = img.dataset.large;
    overlay.style.display = 'flex';
  });
});
overlay.addEventListener('click', () => overlay.style.display = 'none');

/* CRT JITTER */
setInterval(() => {
  document.body.style.transform =
    `translate(${(Math.random()-0.5)*0.3}px, ${(Math.random()-0.5)*0.3}px)`;
}, 60);

/* ===== FORCE DESKTOP MODE ===== */
function isMobileDevice() {
  return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}

function isDesktopMode() {
  return window.innerWidth >= 1024;
}

function checkDesktopMode() {
  const notice = document.getElementById('desktopNotice');
  const desktopScale = document.getElementById('desktopScale');

  if (isMobileDevice() && !isDesktopMode()) {
    notice.style.display = 'flex';      // show notice
    desktopScale.style.display = 'none'; // hide main content
  } else {
    notice.style.display = 'none';
    desktopScale.style.display = 'block';
  }
}

checkDesktopMode();
window.addEventListener('resize', checkDesktopMode);
</script>

</body>
</html>
